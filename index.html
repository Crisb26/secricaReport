<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Reportes - Defensa Civil Colombiana - Seccional Quind√≠o</title>
    <link rel="stylesheet" href="styles/style.css">
</head>
<body>
    <div id="loginPage" class="login-container">
        <div class="login-card">
            <div class="logo-container">
                <div class="logo-defensa-civil">
                    <div class="logo-circle">
                        <span class="logo-text">SRDC</span>
                    </div>
                </div>
                <h1>Sistema de Reportes</h1>
                <h2>Defensa Civil Colombiana</h2>
                <p class="subtitle">Seccional Quind√≠o</p>
            </div>
            <form id="loginForm" class="login-form">
                <div class="form-group">
                    <label for="email" class="form-label">Correo Electronico</label>
                    <input type="email" id="email" class="form-control" placeholder="ejemplo@gmail.com" required>
                </div>
                <div class="form-group">
                    <label for="password" class="form-label">Contrase√±a</label>
                    <input type="password" id="password" class="form-control" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                </div>
                <button type="submit" class="btn btn--primary btn--full-width">
                    Iniciar Sesi√≥n
                </button>
            </form>
            <div id="mensajeLogin" class="mensaje hidden"></div>
        </div>
    </div>
    <div id="dashboardPage" class="dashboard-container hidden">
        <header class="dashboard-header">
            <div class="header-content">
                <div class="logo-section">
                    <div class="logo-defensa-civil-small">
                        <div class="logo-circle-small">
                            <span class="logo-text-small">DCC</span>
                        </div>
                    </div>
                    <div class="header-text">
                        <h1>Sistema de Reportes</h1>
                        <p>Defensa Civil Colombiana - Seccional Quindio</p>
                    </div>
                </div>
                <div class="user-section">
                    <div class="user-info">
                        <span id="nombreUsuario" class="user-name">Usuario</span>
                        <span id="horaActual" class="current-time">--:--:--</span>
                    </div>
                    <button id="cerrarSesionBtn" class="btn btn--secondary">
                        Cerrar Sesi√≥n
                    </button>
                </div>
            </div>
        </header>
        <main class="dashboard-main">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">üìã</div>
                    <div class="stat-content">
                        <h3>Reportes Activos</h3>
                        <p class="stat-number" id="reportesActivos">15</p>
                        <span class="stat-change">+3 hoy</span>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üö®</div>
                    <div class="stat-content">
                        <h3>Emergencias Resueltas</h3>
                        <p class="stat-number" id="emergenciasResueltas">142</p>
                        <span class="stat-change">+8 esta semana</span>
                    </div>
                </div>               
                <div class="stat-card">
                    <div class="stat-icon">üõ†Ô∏è</div>
                    <div class="stat-content">
                        <h3>Recursos Disponibles</h3>
                        <p class="stat-number" id="recursosDisponibles">28</p>
                        <span class="stat-change">en servicio</span>
                    </div>
                </div>              
                <div class="stat-card">
                    <div class="stat-icon">‚ö†Ô∏è</div>
                    <div class="stat-content">
                        <h3>Alertas Tempranas</h3>
                        <p class="stat-number" id="alertasTempranas">3</p>
                        <span class="stat-change">activas</span>
                    </div>
                </div>
            </div>
            <div class="dashboard-grid">
                <section class="dashboard-section">
                    <div class="section-header">
                        <h2>Reportes Recientes</h2>
                        <button class="btn btn--secondary btn--sm" onclick="abrirModalNuevoReporte()">
                            Nuevo Reporte
                        </button>
                    </div>
                    <div id="reportesList" class="reports-list">
                    </div>
                </section>
                <section class="dashboard-section">
                    <div class="section-header">
                        <h2>Organizaciones del Quindio</h2>
                        <button class="btn btn--secondary btn--sm" onclick="verDetallesMunicipios()">
                            Ver Detalles
                        </button>
                    </div>
                    <div class="municipios-grid">
                        <div class="municipio-item">
                            <span class="municipio-name">Armenia</span>
                            <span class="municipio-status status--conectado">3 Unidades</span>
                        </div>
                        <div class="municipio-item">
                            <span class="municipio-name">Salento</span>
                            <span class="municipio-status status--conectado">1 Unidad</span>
                        </div>
                        <div class="municipio-item">
                            <span class="municipio-name">Circasia</span>
                            <span class="municipio-status status--conectado">3 Unidades</span>
                        </div>
                        <div class="municipio-item">
                            <span class="municipio-name">Quimbaya</span>
                            <span class="municipio-status status--conectado">3 Unidades</span>
                        </div>
                        <div class="municipio-item">
                            <span class="municipio-name">Montenegro</span>
                            <span class="municipio-status status--conectado">3 Unidades</span>
                        </div>
                        <div class="municipio-item">
                            <span class="municipio-name">La Tebaida</span>
                            <span class="municipio-status status--conectado">3 Unidades</span>
                        </div>
                    </div>
                </section>
                <section class="dashboard-section">
                    <div class="section-header">
                        <h2>Acciones R√°pidas</h2>
                    </div>
                    <div class="actions-grid">
                        <button class="action-card" onclick="verEmergenciasActivas()">
                            <div class="action-icon">üö®</div>
                            <h3>Ver Emergencias</h3>
                            <p>Emergencias activas</p>
                        </button>
                        <button class="action-card" onclick="verAlertasTempranas()">
                            <div class="action-icon">‚ö†Ô∏è</div>
                            <h3>Alertas Tempranas</h3>
                            <p>Sistema de alertas</p>
                        </button>                       
                        <button class="action-card" onclick="gestionarRecursos()">
                            <div class="action-icon">üõ†Ô∏è</div>
                            <h3>Recursos</h3>
                            <p>Gesti√≥n de recursos</p>
                        </button>                      
                        <button class="action-card" onclick="exportarBitacora()">
                            <div class="action-icon">üìä</div>
                            <h3>Exportar</h3>
                            <p>Descargar bit√°cora</p>
                        </button>
                    </div>
                </section>
            </div>
        </main>
    </div>
    <div id="modalNuevoReporte" class="modal hidden">
        <div class="modal-overlay" onclick="cerrarModalNuevoReporte()"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2>Nuevo Reporte de Emergencia</h2>
                <button class="modal-close" onclick="cerrarModalNuevoReporte()">&times;</button>
            </div>           
            <form id="formNuevoReporte" class="modal-body">
                <div class="form-row">
                    <div class="form-group">
                        <label for="fechaHoraReporte" class="form-label">Fecha y Hora</label>
                        <input type="datetime-local" id="fechaHoraReporte" class="form-control" required>
                    </div>                  
                    <div class="form-group">
                        <label for="tipoEmergencia" class="form-label">Tipo de Emergencia</label>
                        <select id="tipoEmergencia" class="form-control" required>
                            <option value="">Seleccionar tipo</option>
                            <option value="Incendio Forestal">üî• Incendio Forestal</option>
                            <option value="Incendio Estructural">üè† Incendio Estructural</option>
                            <option value="Deslizamiento">üèîÔ∏è Deslizamiento</option>
                            <option value="Inundaci√≥n">üåä Inundaci√≥n</option>
                            <option value="Rescate Animal">üêï Rescate Animal</option>
                            <option value="Rescate Persona">üë§ Rescate Persona</option>
                            <option value="Emergencia M√©dica">üöë Emergencia Medica</option>
                            <option value="Accidente de Tr√°nsito">üöó Accidente de Transito</option>
                            <option value="√Årbol Ca√≠do">üå≥ √Årbol Ca√≠do</option>
                            <option value="Avalancha">‚õ∞Ô∏è Avalancha</option>
                            <option value="Derrame de Combustible">‚õΩ Derrame de Combustible</option>
                            <option value="Emergencia Tecnol√≥gica">üíª Emergencia Tecnologica</option>
                            <option value="Otra">‚ùì Otra... ¬øCual?</option>
                        </select>
                    </div>
                </div>               
                <div class="form-row">
                    <div class="form-group">
                        <label for="municipioReporte" class="form-label">Municipio</label>
                        <select id="municipioReporte" class="form-control" required onchange="actualizarUnidadesRadiales()">
                            <option value="">Seleccionar municipio</option>
                        </select>
                    </div>                   
                    <div class="form-group">
                        <label for="prioridadReporte" class="form-label">Nivel de Prioridad</label>
                        <select id="prioridadReporte" class="form-control" required>
                            <option value="">Seleccionar prioridad</option>
                            <option value="ALTA">üö® ALTA - Riesgo inminente</option>
                            <option value="MEDIA">‚ö†Ô∏è MEDIA - Requiere atenci√≥n</option>
                            <option value="BAJA">‚ÑπÔ∏è BAJA - Sin riesgo inmediato</option>
                        </select>
                    </div>
                </div>               
                <div class="form-group">
                    <label class="form-label">Unidades Radiales Reportando</label>
                    <div id="unidadesRadialesContainer" class="checkbox-container">
                    </div>
                </div>               
                <div class="form-group">
                    <label for="responsableReporte" class="form-label">Responsable que Reporta</label>
                    <input type="text" id="responsableReporte" class="form-control" readonly placeholder="Se autocompletar√° seg√∫n unidades seleccionadas">
                </div>                
                <div class="form-group">
                    <label for="descripcionReporte" class="form-label">Descripci√≥n de la Novedad</label>
                    <textarea id="descripcionReporte" class="form-control" rows="4" required 
                              placeholder="Describe detalladamente la situaci√≥n reportada..."></textarea>
                </div>              
                <div class="form-group">
                    <label for="ubicacionReporte" class="form-label">Ubicaci√≥n Espec√≠fica</label>
                    <input type="text" id="ubicacionReporte" class="form-control" 
                           placeholder="Direcci√≥n, barrio, vereda o punto de referencia">
                </div>              
                <div class="modal-footer">
                    <button type="button" class="btn btn--secondary" onclick="cerrarModalNuevoReporte()">
                        Cancelar
                    </button>
                    <button type="submit" class="btn btn--primary">
                        Guardar Reporte
                    </button>
                </div>
            </form>
        </div>
    </div>
    <div id="modalDetallesMunicipios" class="modal hidden">
        <div class="modal-overlay" onclick="cerrarModalDetallesMunicipios()"></div>
        <div class="modal-content modal-wide">
            <div class="modal-header">
                <h2>Unidades Radiales por Municipio</h2>
                <button class="modal-close" onclick="cerrarModalDetallesMunicipios()">&times;</button>
            </div>
            <div class="modal-body">
                <div id="detallesMunicipiosContent">
                </div>
            </div>
        </div>
    </div>
    <script src="scripts/app.js"></script>
</body>
</html>