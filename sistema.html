<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema - SECRICA REPORT</title>
    <link rel="stylesheet" href="styles/style.css">
    <link rel="stylesheet" href="styles/sistema.css">
</head>
<body>
    <div class="sistema-container">
        <!-- Header -->
        <header class="sistema-header">
            <div class="header-content">
                <div class="logo-sistema">
                    <img src="assets/images/logo-defensa-civil.png.png" alt="Defensa Civil" class="logo-img" width="">
                    <div class="logo-text">
                        <h1 style="font-size: 30px;">SECRICA REPORT</h1>
                        <p style="font-size: 20px;">Sistema de Reportes - Defensa Civil Quind√≠o</p>
                    </div>
                </div>
                <div class="user-info">
                    <span id="usuarioActual">Cargando...</span>
                    <button onclick="cerrarSesion()" class="btn btn-logout">Cerrar Sesi√≥n</button>
                </div>
            </div>
        </header>

        <!-- Navegaci√≥n -->
        <nav class="sistema-nav">
            <div class="nav-content">
                <button class="nav-btn active" data-section="dashboard">üìä Dashboard</button>
                <button class="nav-btn" data-section="reportes">üìù Reportes</button>
                <button class="nav-btn" data-section="clima">üå§Ô∏è Clima IA</button>
                <button class="nav-btn" data-section="seguimiento">üìà Seguimiento IA</button>
                <button class="nav-btn" data-section="usuarios">üë• Usuarios</button>
            </div>
        </nav>

        <!-- Contenido Principal -->
        <main class="sistema-main">
            <!-- Dashboard -->
            <section id="dashboard" style="padding: 80px;" class="seccion active">
                <h2>Dashboard Principal</h2>
                <div class="dashboard-grid" style="margin-top: 100px;">
                    <div class="dashboard-card" style="padding: 20px; font-size: 20px">
                        <h3>Reportes Hoy</h3>
                        <div class="card-number" id="reportesHoy">0</div>
                        <p>Reportes registrados hoy</p>
                    </div>
                    <div class="dashboard-card" style="padding: 20px; font-size: 20px">
                        <h3>Usuarios Activos</h3>
                        <div class="card-number" id="usuariosActivos">0</div>
                        <p>Usuarios en el sistema</p>
                    </div>
                    <div class="dashboard-card" style="padding: 20px; font-size: 20px">
                        <h3>Emergencias</h3>
                        <div class="card-number alertas" style="font-size: 30px;" id="emergenciasAbiertas">0</div>
                        <p>Casos abiertos</p>
                    </div>
                    <div class="dashboard-card" style="padding: 20px; font-size: 20px;">
                        <h3>Clima Actual</h3>
                        <div class="card-weather" style="padding: 20px; font-size: 25px;" id="climaActual">Cargando...</div>
                        <p id="ubicacionClima">Armenia, Quind√≠o</p>
                    </div>
                </div>
            </section>

            <!-- Reportes -->
            <section id="reportes" class="seccion">
                <h2>Gesti√≥n de Reportes</h2>
                <div class="reportes-container">
                    <button class="btn btn-primary" onclick="nuevoReporte()">+ Nuevo Reporte</button>
                    <div class="reportes-lista" id="listaReportes">
                        <!-- Reportes se cargan din√°micamente -->
                    </div>
                </div>
            </section>

            <!-- Clima IA -->
            <section id="clima" class="seccion">
                <h2>Sistema de Clima con IA</h2>
                <div class="clima-container">
                    <div class="clima-actual">
                        <h3>Clima Actual - Armenia, Quind√≠o</h3>
                        <div id="climaDetallado">Cargando datos meteorol√≥gicos...</div>
                    </div>
                    <div class="clima-prediccion">
                        <h3>Predicci√≥n IA - Pr√≥ximos 5 d√≠as</h3>
                        <div id="prediccionIA">Analizando patrones clim√°ticos...</div>
                    </div>
                </div>
            </section>

            <!-- Seguimiento IA -->
            <section id="seguimiento" class="seccion">
                <h2>Seguimiento Inteligente de Reportes</h2>
                <div class="seguimiento-container">
                    <div class="seguimiento-stats">
                        <h3>An√°lisis IA de Reportes</h3>
                        <div id="analisisIA">Analizando patrones de reportes...</div>
                    </div>
                    <div class="seguimiento-chart">
                        <h3>Tendencias Detectadas</h3>
                        <canvas id="chartTendencias"></canvas>
                    </div>
                </div>
            </section>

            <!-- Usuarios -->
            <section id="usuarios" class="seccion">
                <h2>Gesti√≥n de Usuarios</h2>
                <div class="usuarios-container">
                    <div class="usuarios-lista" id="listaUsuarios">
                        <!-- Usuarios se cargan din√°micamente -->
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Modal de cierre de sesi√≥n -->
    <div id="modalCerrarSesion" class="modal">
    <div class="modal-content">
        <h3>¬øEst√°s seguro que deseas cerrar sesi√≥n?</h3>
        <div class="modal-actions">
        <button id="btnConfirmarCerrar" class="btn btn-danger">Cerrar sesi√≥n</button>
        <button id="btnCancelarCerrar" class="btn btn-secondary">Cancelar</button>
        </div>
    </div>
    </div>

    <!-- M√≥dulos que usan export/import -->
    <script type="module" src="scripts/crypto-utils.js"></script>
    <script type="module" src="scripts/sistema.js"></script>
    <script type="module" src="scripts/seguimiento-ia.js"></script>
    <script type="module" src="scripts/clima-ia.js"></script>

    <script src="scripts/chatbot-ia.js"></script>
    <script src="scripts/utilidades.js"></script>

    
</body>
</html>